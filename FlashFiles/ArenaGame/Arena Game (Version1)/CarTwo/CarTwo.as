package {	import flash.display.*;	import flash.events.*;	public class CarTwo extends MovieClip	{		public var refM:MovieClip;		public var moveSpeedMax2:Number = 2000;		public var rotateSpeedMax2:Number = 15;		public var decay2:Number = .98;		public var destinationX2:int = 0;		public var destinationY2:int = 0;		public var _dx2:Number = 0;		public var _dy2:Number = 0;		public var _vx2:Number = 0;		public var _vy2:Number = 0;		public var trueRotation2:Number = 0;		public var xDist2:Number = 0;		public var yDist2:Number = 0;		public var directDist2:Number = 0;				public var carTwoIndRotation:Number;				public var targetTwoState:Boolean = false;		public var targetTwoCount:Number = 0;				public function CarTwo()		{			stage.addEventListener(Event.ENTER_FRAME,gLoop);			refM = MovieClip(this.parent);			refM.carsArray.push(this);		}		function gLoop(event:Event):void		{						if (targetTwoState == false)			{				refM.cTwoTarg.x = Math.random() * 700;				refM.cTwoTarg.y = Math.random() * 700;				targetTwoState = true;			}			if (refM.cTwoTarg.y > 630 || refM.cTwoTarg.y < 70 || refM.cTwoTarg.x > 630 || refM.cTwoTarg.x < 70)			{				refM.cTwoTarg.visible = false;				targetTwoState = false;				targetTwoCount = 0;			}			else			{				refM.cTwoTarg.visible = true;				targetTwoCount +=  1;								if (targetTwoCount > 80)				{					targetTwoCount = 0;					targetTwoState = false;				}			}						carTwoIndicatorRotate();									if (this.x < refM.boundyLeft || this.x > refM.boundyRight || this.y < refM.boundyTop || this.y > refM.boundyBottom)			{				refM.carTwoInd.alpha = .8;			}			else			{				refM.carTwoInd.alpha = 0;			}			destinationX2 = refM.cTwoTarg.x;			destinationY2 = refM.cTwoTarg.y;			_dx2 = this.x - destinationX2;			_dy2 = this.y - destinationY2;			var rotateTo2:Number = refM.getDegrees(refM.getRadians(_dx2,_dy2));			if ((rotateTo2 > this.rotation + 180))			{				rotateTo2 -=  360;			}			if ((rotateTo2 < this.rotation - 180))			{				rotateTo2 +=  360;			}			trueRotation2 = (rotateTo2 - this.rotation) / rotateSpeedMax2;			this.rotation +=  trueRotation2;			_vx2 +=  (destinationX2 - this.x) / moveSpeedMax2;			_vy2 +=  (destinationY2 - this.y) / moveSpeedMax2;			_vx2 *=  decay2;			_vy2 *=  decay2;			if ((refM.getDistance(_dx2,_dy2) < 50))			{				trueRotation2 *=  .5;			}			this.x +=  _vx2;			this.y +=  _vy2;			if (_vy2 < -5 || _vy2 > 5 || _vx2 < -5|| _vx2 > 5)			{				moveSpeedMax2 +=  100;			}			else			{				moveSpeedMax2 = 1000;			}			if (this.y < -50)			{				this.y = 750;			}			if (this.y > 750)			{				this.y = -50;			}			if (this.x > 750)			{				this.x = -50;			}			if (this.x < -50)			{				this.x = 750;			}		}		public function carTwoIndicatorRotate()		{			carTwoIndRotation = Math.round((180 - Math.atan2(this.x - refM.carTwoInd.x,this.y - refM.carTwoInd.y) * 180 / Math.PI));			refM.carTwoInd.rotation = carTwoIndRotation;		}	}}