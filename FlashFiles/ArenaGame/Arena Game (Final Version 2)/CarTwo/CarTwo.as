package {	import flash.display.*;	import flash.events.*;	public class CarTwo extends MovieClip	{		public var refM:MovieClip;		public var moveSpeedMax2:Number = 1000;		public var rotateSpeedMax2:Number = 15;		public var decay2:Number = .90;		public var destinationX2:int = 0;		public var destinationY2:int = 0;		public var _dx2:Number = 0;		public var _dy2:Number = 0;		public var _vx2:Number = 0;		public var _vy2:Number = 0;		public var trueRotation2:Number = 0;		public var xDist2:Number = 0;		public var yDist2:Number = 0;		public var directDist2:Number = 0;		public var carTwoIndRotation:Number;		public function CarTwo()		{			stage.addEventListener(Event.ENTER_FRAME,gLoop);			refM = MovieClip(this.parent);		}		function gLoop(event:Event):void		{			if (refM.pausee == false)			{				carTwoIndicatorRotate();				carTwoMovement();				refM.cTwoTarg.visible = false;			}		}		public function carTwoMovement()		{			if (refM.carTwoHitState == false)			{				refM.carTwoCount +=  1;				decay2 = 0.7;				rotateSpeedMax2 = 100;				moveSpeedMax2 = 1000;				if (refM.carTwoCount > 15)				{					rotateSpeedMax2 = 15;					refM.cTwoTarg.x = refM.thisTarg.x;					refM.cTwoTarg.y = refM.thisTarg.y;				}				if (refM.carTwoCount > 80)				{					refM.carTwoHitState = true;					refM.carTwoCount = 0;				}			}			if (refM.carTwoHitState == true)			{				refM.carTwoCount = 0;				rotateSpeedMax2 = 40;				decay2 = .90;				moveSpeedMax2 +=  .5;				if (moveSpeedMax2 >= 100)				{					moveSpeedMax2 = 100;				}			}			if (this.x < refM.boundyLeft || this.x > refM.boundyRight || this.y < refM.boundyTop || this.y > refM.boundyBottom)			{				refM.carTwoInd.alpha = .8;			}			else			{				refM.carTwoInd.alpha = 0;			}			_vx2 +=  (destinationX2 - this.x) / moveSpeedMax2;			_vy2 +=  (destinationY2 - this.y) / moveSpeedMax2;			_vx2 *=  decay2;			_vy2 *=  decay2;			this.x +=  _vx2;			this.y +=  _vy2;			destinationX2 = refM.cTwoTarg.x;			destinationY2 = refM.cTwoTarg.y;			_dx2 = this.x - destinationX2;			_dy2 = this.y - destinationY2;			var rotateTo2:Number = refM.getDegrees(refM.getRadians(_dx2,_dy2));			if ((rotateTo2 > this.rotation + 180))			{				rotateTo2 -=  360;			}			if ((rotateTo2 < this.rotation - 180))			{				rotateTo2 +=  360;			}			trueRotation2 = (rotateTo2 - this.rotation) / rotateSpeedMax2;			this.rotation +=  trueRotation2;			if ((refM.getDistance(_dx2,_dy2) < 50))			{				trueRotation2 *=  .5;			}		}		public function carTwoIndicatorRotate()		{			carTwoIndRotation = Math.round((180 - Math.atan2(this.x - refM.carTwoInd.x,this.y - refM.carTwoInd.y) * 180 / Math.PI));			refM.carTwoInd.rotation = carTwoIndRotation;		}	}}